"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35],{7954:function(t,o,e){var n,i=(n=e(7294))&&"object"==typeof n&&"default"in n?n.default:n,a=!1;"undefined"!=typeof window&&(a="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);var s=a,r={borderRadius:"inherit",height:"100%",left:0,position:"absolute",top:0,width:"100%"};function h(t,o,e,n){return e*((t=t/n-1)*t*t*t*t+1)+o}var c=Math.sqrt(2),u=Math.cos,p=Math.max,l=Math.min;function d(t){return l(t.duration,Date.now()-t.mouseDown)}function f(t){return 0<t.mouseUp?Date.now()-t.mouseUp:0}function v(t){var o=t.duration,e=t.radius;return p(0,.85*h(d(t),0,e,o)+.15*h(f(t),0,e,o)+.02*e*u(Date.now()/o))}function g(t,o){return h(f(t),o,-o,t.duration)}var y=function(t){var o=t.mouseUp,e=t.duration;return!o||Date.now()-o<e};function m(){for(var t=arguments,o={},e=0;e<arguments.length;e++){var n=t[e];if(n)for(var i in n)o[i]=n[i]}return o}var w=2*Math.PI,b=function(t){function o(o){var e,n,i,a,s;t.apply(this,arguments),this.state={color:"transparent",density:1,height:0,store:(e=this.tick.bind(this),i=[],a=!1,s={each:function(t,o){for(var e=0,n=i.length;e<n;e++)t.call(o,i[e])},play:function(){a||(a=!0,s.update())},stop:function(){a=!1,cancelAnimationFrame(n)},getTotalOpacity:function(t){for(var o,e=0,n=0,a=i.length;n<a;n++)e+=l(g(o=i[n],t),h(d(o),0,.3,3*o.duration));return e},update:function(){(i=i.filter(y)).length?n=requestAnimationFrame(s.update):s.stop(),e()},add:function(t){i.push(t),s.play()},release:function(t){for(var o=i.length-1;0<=o;o--)if(!i[o].mouseUp)return i[o].mouseUp=t}}),width:0},this.touchEvents=this.touchEvents()}return t&&(o.__proto__=t),((o.prototype=Object.create(t&&t.prototype)).constructor=o).prototype.touchEvents=function(){return this.props.hasTouch?{onTouchStart:this.t.bind(this),onTouchEnd:this.n.bind(this),onTouchCancel:this.n.bind(this)}:{onMouseDown:this.t.bind(this),onMouseUp:this.n.bind(this),onMouseLeave:this.n.bind(this)}},o.prototype.tick=function(){var t=this.state,o=t.ctx,e=t.color,n=t.density,i=t.height,a=t.width,s=t.store;o.save(),o.scale(n,n),o.clearRect(0,0,a,i),o.fillStyle=e,this.props.background&&(o.globalAlpha=s.getTotalOpacity(this.props.opacity),o.fillRect(0,0,a,i)),s.each(this.makeBlot,this),o.restore()},o.prototype.makeBlot=function(t){var o=this.state,e=o.ctx,n=o.height,i=o.width,a=t.x,s=t.y,r=t.radius;if(e.globalAlpha=g(t,this.props.opacity),e.beginPath(),this.props.recenter){var h=Math.max(n,i);a+=l(1,v(t)/h*2/c)*(i/2-t.x),s+=l(1,v(t)/h*2/c)*(n/2-t.y)}e.arc(a,s,r*(v(t)/t.radius),0,w),e.closePath(),e.fill()},o.prototype.componentWillUnmount=function(){this.state.store.stop()},o.prototype.pushBlot=function(t,o,e){var n=this,i=this.canvas;i.getDOMNode&&"function"==typeof i.getDOMNode&&(i=i.getDOMNode());var a=i.getBoundingClientRect(),s=a.top,r=a.bottom,h=a.left,c=a.right,u=window.getComputedStyle(i).color,d=this.state.ctx||i.getContext("2d"),f=(window.devicePixelRatio||1)/(d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1),v=r-s,g=c-h,y=this.props.radius||l(.6*p(v,g));this.setState({color:u,ctx:d,density:f,height:v,width:g},function(){n.state.store.add({duration:n.props.duration,mouseDown:t,mouseUp:0,radius:y,x:o-h,y:e-s})})},o.prototype.setCanvas=function(t){this.canvas=t},o.prototype.render=function(){var t=this.state,o=t.density,e=t.height,n=t.width,a=this.props,s=a.className,h=a.style,c=m({className:s,ref:this.setCanvas.bind(this),height:e*o,width:n*o,onDragOver:this.n.bind(this),style:m(r,h)},this.touchEvents);return i.createElement("canvas",c)},o.prototype.t=function(t){var o=t.button,e=t.ctrlKey,n=t.clientX,i=t.clientY,a=t.changedTouches,s=Date.now();if(a)for(var r=0;r<a.length;r++){var h=a[r],c=h.clientX,u=h.clientY;this.pushBlot(s,c,u)}else 0!==o||e||this.pushBlot(s,n,i)},o.prototype.n=function(){this.state.store.release(Date.now())},o}(i.PureComponent);b.defaultProps={background:!0,className:"ink",duration:1e3,opacity:.25,recenter:!0,hasTouch:s},t.exports=b}}]);